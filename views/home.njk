{% extends "base.njk" %}
{% block title %}todo home{% endblock %}
{% block content %}
<div >
   <form method="get" action="/home">
      <select class="form-select mt-2 mb-2" aria-label="Default select example" name="categoryId">
         <option selected disabled>カテゴリ選択</option>
         <option value="0">All</option>
         {% for category in categories %}
         <option value={{ category.id }}>{{ category.name }}</option>
         {% endfor %}
      </select>
      <div class="text-center mb-3 border-bottom">
         <input type="submit" class="mt-1 mb-2 btn btn-outline-primary" value="選択したカテゴリを表示">
      </div>
   </form>
   <form method="post" action="/tasks-delete">
      <div class="overflow-auto mt-3 mb-1 mh-50 border rounded">
         <ul class="list-group">
            {% for task in tasks %}
            <li class="list-group-item">
               <input class="form-check-input me-1" type="radio" value="{{ task.title }}" id="{{ task.title }}" name="title" required>
               <label class="form-check-label" for="{{ task.title }}">{{ task.title }}---{{ task.content }}---{{ task.deadline }}</label>
            </li>
            {% endfor %}
         </ul>
         <input type="hidden" name="title" value="">
      </div>
      <div class="text-center">
         <input type="submit" class="mt-1 mb-2 btn btn-outline-primary" value="選択したタスクを削除">
      </div>
   </form>
   <div class="px-2 py-2 border rounded">
      <div class="py-2 border-rounded">
         <form method="post" action="tasks">
            <select class="form-select mt-2 mb-2" aria-label="Default select example" name="categoryId">
               <option selected disabled>登録するカテゴリ</option>
               {% for category in categories %}
               <option value={{ category.id }}>{{ category.name }}</option>
               {% endfor %}
            </select>
            <label for="title" class="form-label">タスクのタイトル</label>
            <input id="title" name="title" tyep="text" class="form-control mb-2" value="">
            <label for="content" class="form-label">詳細</label>
            <textarea name="content" class="form-control mb-2" id="content" rows="3" required></textarea>
            <label for="deadline" class="form-label">締め切り</label>
            <input id="deadline" name="deadline" tyep="number" class="form-control mb-2" value="">
            <div class="mt-2 text-center">
               <input type="submit" id="submitButton" class="btn btn-outline-primary rounded-pill" value="タスク追加">
            </div>
         </form>
      </div>
   </div>
   <div class="px-2 py-2 mt-3 border rounded">
      <div class="py-2 border-rounded">
         <form method="post" action="categories">
            <label for="title" class="form-label">カテゴリ名</label>
            <input id="title" name="name" tyep="text" class="form-control mb-2" value="" required>
            <div class="mt-2 text-center">
               <input type="submit" id="submitButton" class="btn btn-outline-primary rounded-pill" value="カテゴリ追加">
            </div>
         </form>
      </div>
   </div>
   <form>
   </form>
</div>
{% endblock %}